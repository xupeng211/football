# ğŸ¤– AIæ–‡ä»¶æ“ä½œå®ˆæŠ¤ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

AIæ–‡ä»¶æ“ä½œå®ˆæŠ¤ç³»ç»Ÿæ˜¯ä¸€å¥—ä¸“é—¨è®¾è®¡çš„å·¥å…·ï¼Œç”¨äºé˜²æ­¢AIç¼–ç¨‹å·¥å…·åœ¨ä¸åˆé€‚çš„åœ°æ–¹åˆ›å»ºé‡å¤æ–‡ä»¶ï¼Œå¼•å¯¼AIè¿›è¡Œæ­£ç¡®çš„æ–‡ä»¶æ“ä½œã€‚

### ğŸ¯ è§£å†³çš„æ ¸å¿ƒé—®é¢˜

- **é‡å¤æ–‡ä»¶åˆ›å»º** - AIå·¥å…·ç»å¸¸åˆ›å»º `test_api_copy.py`, `config_new.py` ç­‰é‡å¤æ–‡ä»¶
- **ä½ç½®ä¸å½“** - åœ¨é”™è¯¯çš„ç›®å½•åˆ›å»ºæ–‡ä»¶
- **å‘½åæ··ä¹±** - ä½¿ç”¨ä¸´æ—¶ã€å¤‡ä»½ç­‰ä¸è§„èŒƒçš„æ–‡ä»¶å
- **ç¼ºä¹ä¸Šä¸‹æ–‡** - AIä¸äº†è§£é¡¹ç›®ç»“æ„å’Œç°æœ‰æ–‡ä»¶

## ğŸ›¡ï¸ ç³»ç»Ÿç»„ä»¶

### 1. **AIæ–‡ä»¶å®ˆæŠ¤ç¨‹åº** (`scripts/ai_file_guard.py`)

**åŠŸèƒ½**: æ£€æŸ¥å•ä¸ªæ–‡ä»¶çš„åˆ›å»ºæ˜¯å¦åˆè§„

```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åº”è¯¥åˆ›å»º
make ai-file-guard FILE=test_new_api.py

# æˆ–ç›´æ¥ä½¿ç”¨è„šæœ¬
python3 scripts/ai_file_guard.py test_new_api.py
```

**è¾“å‡ºç¤ºä¾‹**:

```
ğŸ¤– AIæ–‡ä»¶æ“ä½œæ£€æŸ¥
========================================
âŒ ä¸å»ºè®®åˆ›å»ºæ­¤æ–‡ä»¶:
  â€¢ é¿å…ä½¿ç”¨ '_new' åç¼€
ğŸ’¡ å»ºè®®:
  â€¢ ä½¿ç”¨æ›´æ˜ç¡®çš„æ–‡ä»¶å
ğŸ“ ç›¸ä¼¼æ–‡ä»¶:
  â€¢ ./tests/unit/test_api.py (0.85)
ğŸ“ æ¨èè·¯å¾„:
  1. tests/unit/test_api.py
  2. tests/integration/test_api.py
========================================
```

### 2. **å®æ—¶æ–‡ä»¶ç›‘æ§å™¨** (`scripts/ai_file_monitor.py`)

**åŠŸèƒ½**: ç›‘æ§æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶å¹¶è‡ªåŠ¨æ£€æŸ¥

```bash
# æ£€æŸ¥æœ€è¿‘10åˆ†é’Ÿçš„æ–‡ä»¶æ“ä½œ
make ai-file-check

# æˆ–æŒ‡å®šæ—¶é—´èŒƒå›´
python3 scripts/ai_file_monitor.py scan 30  # 30åˆ†é’Ÿ
python3 scripts/ai_file_monitor.py status   # æŸ¥çœ‹çŠ¶æ€
```

### 3. **æ–‡ä»¶æ“ä½œè§„åˆ™** (`ai_file_rules.json`)

**åŠŸèƒ½**: å®šä¹‰é¡¹ç›®çš„æ–‡ä»¶ç»„ç»‡è§„èŒƒ

```json
{
  "forbidden_patterns": {
    "suffixes": ["_copy", "_backup", "_new", "_old", "_temp"],
    "names": ["temp.py", "test.py", "new_file.py"]
  },
  "location_rules": {
    "test_files": {
      "pattern": "test_*.py",
      "allowed_locations": ["tests/unit/", "tests/integration/"],
      "prefer_location": "tests/unit/"
    }
  }
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. **åŸºç¡€æ£€æŸ¥**

```bash
# æ£€æŸ¥ç¯å¢ƒæ˜¯å¦å°±ç»ª
make ai-check

# æ£€æŸ¥æœ€è¿‘çš„æ–‡ä»¶æ“ä½œ
make ai-file-check
```

### 2. **VS Codeé›†æˆ**

1. æ‰“å¼€å‘½ä»¤é¢æ¿ (`Ctrl+Shift+P`)
2. é€‰æ‹© `Tasks: Run Task`
3. é€‰æ‹©ä»¥ä¸‹ä»»åŠ¡ä¹‹ä¸€ï¼š
   - `ğŸ¤– AI: æ£€æŸ¥æ–‡ä»¶æ“ä½œ` - æ£€æŸ¥æœ€è¿‘æ–‡ä»¶å˜åŒ–
   - `ğŸ¤– AI: æ£€æŸ¥å½“å‰æ–‡ä»¶` - æ£€æŸ¥å½“å‰æ‰“å¼€çš„æ–‡ä»¶

### 3. **Gité›†æˆ**

æ¯æ¬¡æäº¤æ—¶è‡ªåŠ¨è¿è¡Œæ–‡ä»¶æ£€æŸ¥ï¼š

```bash
# å¯ç”¨Git hooks (å·²åœ¨ai-setupä¸­åŒ…å«)
make setup-hooks

# æäº¤æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥
git commit -m "add new feature"
```

## ğŸ“‹ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: AIæƒ³åˆ›å»ºé‡å¤æµ‹è¯•æ–‡ä»¶

**é—®é¢˜**: AIå»ºè®®åˆ›å»º `test_api_enhanced.py`

**è§£å†³**:

```bash
make ai-file-guard FILE=test_api_enhanced.py
```

**ç»“æœ**:

- æ£€æµ‹åˆ°å·²æœ‰ `test_api.py` (ç›¸ä¼¼åº¦ 0.85)
- å»ºè®®ä¿®æ”¹ç°æœ‰æ–‡ä»¶è€Œä¸æ˜¯åˆ›å»ºæ–°æ–‡ä»¶

### åœºæ™¯2: AIåœ¨é”™è¯¯ä½ç½®åˆ›å»ºæ–‡ä»¶

**é—®é¢˜**: AIåœ¨æ ¹ç›®å½•åˆ›å»º `user_service.py`

**è§£å†³**:

- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹ä½ç½®ä¸å½“
- å»ºè®®ç§»åŠ¨åˆ° `src/football_predict_system/domain/`

### åœºæ™¯3: å®šæœŸæ£€æŸ¥é¡¹ç›®æ–‡ä»¶å¥åº·åº¦

**å®šæœŸè¿è¡Œ**:

```bash
# æ¯å¤©æ£€æŸ¥
make ai-file-check

# æŸ¥çœ‹å†å²çŠ¶æ€
python3 scripts/ai_file_monitor.py status
```

## âš™ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰è§„åˆ™

ç¼–è¾‘ `ai_file_rules.json`:

```json
{
  "location_rules": {
    "my_custom_files": {
      "pattern": "my_*.py",
      "allowed_locations": ["src/custom/"],
      "max_similar_files": 1
    }
  }
}
```

### è°ƒæ•´æ•æ„Ÿåº¦

```python
# åœ¨è„šæœ¬ä¸­ä¿®æ”¹ç›¸ä¼¼åº¦é˜ˆå€¼
similarity_threshold = 0.6  # é™ä½=æ›´ä¸¥æ ¼ï¼Œæé«˜=æ›´å®½æ¾
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è®©AIå·¥å…·è‡ªåŠ¨éµå¾ªè¿™äº›è§„åˆ™ï¼Ÿ

**A**: åœ¨AIæç¤ºä¸­åŒ…å«ï¼š

```
åœ¨åˆ›å»ºæ–‡ä»¶å‰ï¼Œè¯·è¿è¡Œï¼šmake ai-file-guard FILE=<filename>
æ ¹æ®è¾“å‡ºè°ƒæ•´æ–‡ä»¶åå’Œä½ç½®
```

### Q: ç³»ç»Ÿè¯¯æŠ¥æ€ä¹ˆåŠï¼Ÿ

**A**:

1. æ£€æŸ¥ `ai_file_rules.json` é…ç½®
2. è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼
3. æ·»åŠ ä¾‹å¤–è§„åˆ™

### Q: å¦‚ä½•é›†æˆåˆ°CI/CDï¼Ÿ

**A**:

```yaml
# .github/workflows/ci.yml
- name: Check file operations
  run: make ai-file-check
```

## ğŸ“Š ç›‘æ§å’Œåé¦ˆ

### çŠ¶æ€æ–‡ä»¶

ç³»ç»Ÿä¼šç”ŸæˆçŠ¶æ€æ–‡ä»¶ï¼š

- `data/feedback/ai_file_status.json` - æ–‡ä»¶æ£€æŸ¥çŠ¶æ€
- `data/feedback/ai_environment_status.json` - ç¯å¢ƒçŠ¶æ€

### æŸ¥çœ‹ç»Ÿè®¡

```bash
# æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
python3 scripts/ai_file_monitor.py status

# æŸ¥çœ‹JSONæ ¼å¼
cat data/feedback/ai_file_status.json | jq .summary
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. **ä¸AIå·¥å…·åä½œ**

åœ¨ä¸AIå¯¹è¯æ—¶ï¼š

```
æˆ‘è¦åˆ›å»ºä¸€ä¸ªæ–°çš„APIæµ‹è¯•æ–‡ä»¶ï¼Œè¯·å…ˆæ£€æŸ¥ï¼š
make ai-file-guard FILE=test_new_api.py

æ ¹æ®æ£€æŸ¥ç»“æœå†³å®šæ˜¯åˆ›å»ºæ–°æ–‡ä»¶è¿˜æ˜¯ä¿®æ”¹ç°æœ‰æ–‡ä»¶ã€‚
```

### 2. **å®šæœŸå¥åº·æ£€æŸ¥**

```bash
# æ¯å‘¨è¿è¡Œ
make ai-file-check

# æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤æˆ–ä¸è§„èŒƒçš„æ–‡ä»¶
```

### 3. **å›¢é˜Ÿåä½œ**

1. æ‰€æœ‰æˆå‘˜éƒ½å¯ç”¨ `make ai-setup`
2. ç»Ÿä¸€çš„ `ai_file_rules.json` é…ç½®
3. åœ¨ä»£ç è¯„å®¡ä¸­æ£€æŸ¥æ–‡ä»¶ç»„ç»‡

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [AIå·¥å…·æŒ‡å—](AI_TOOLS_GUIDE.md)
- [å¼€å‘æŒ‡å—](DEVELOPMENT.md)
- [é¡¹ç›®README](../README.md)

---

*è¿™ä¸ªç³»ç»Ÿä¼šæŒç»­å­¦ä¹ å’Œæ”¹è¿›ï¼Œå¸®åŠ©AIå·¥å…·æ›´å¥½åœ°ç†è§£é¡¹ç›®ç»“æ„ï¼* ğŸš€
