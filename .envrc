#!/bin/bash
# 自动虚拟环境激活（direnv）
# AI开发工具会自动使用此配置

# 检查虚拟环境
if [ ! -d ".venv" ]; then
    echo "🔧 创建虚拟环境..."
    python -m venv .venv
fi

# 激活虚拟环境
source .venv/bin/activate

# 设置提示符
export VIRTUAL_ENV_PROMPT="🤖 AI-DEV"

# 显示环境信息
echo "🤖 AI开发环境已激活"
echo "Python: $(python --version)"
echo "Virtual Environment: $VIRTUAL_ENV"

# 检查依赖
if [ -f "requirements.txt" ] && ! python -c "import fastapi" 2>/dev/null; then
    echo "⚠️  依赖未安装，请运行: make install"
fi
