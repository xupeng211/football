title = "Football Prediction System - gitleaks"

[allowlist]
description = "Global allowlist to reduce CI false positives"
# 忽略常见路径（文档、测试、样例）
paths = [
  '''^docs?/.*$''',
  '''^tests?/.*$''',
  '''^examples?/.*$''',
  '''^fixtures?/.*$''',
  '''^\.github/workflows/.*$''',
  '''^\.devcontainer/.*$''',
  '''^\.vscode/.*$''',
  '''^.*\.md$''',
  '''^.*\.rst$''',
  '''^.*\.txt$''',
  '''^\.env\.example$'''
]
# 忽略特定字符串/变量模式（GitHub Actions & 常见占位符）
regexes = [
  '''(?i)GITHUB_(TOKEN|REF|SHA|ACTOR|REPOSITORY|WORKFLOW|RUN_ID|RUN_NUMBER)''',
  '''(?i)ACTIONS_(RUNNER|CACHE|ALLOW_.*|.*)''',
  '''(?i)(dummy|example|sample|placeholder)[-_]?(key|token|secret)''',
  '''(?i)localhost(:\d+)?''',
  '''(?i)127\.0\.0\.1(:\d+)?''',
  '''(?i)jwt|bearer'''
]

[entropy]
target = 4.5

# 典型规则示例（可以保留，避免过度告警）
[[rules]]
id = "generic-api-key"
description = "Generic API Key"
regex = '''(?i)(api[_-]?key|token|secret)[^a-zA-Z0-9]?['"]?[a-z0-9]{20,}['"]?'''
entropy = 4.5
tags = ["key", "generic"]
allowlist = { regexes = [
  '''(?i)GITHUB_(TOKEN|REF|SHA|ACTOR|REPOSITORY)''',
  '''(?i)ACTIONS_(RUNNER|CACHE).*'''
] }
