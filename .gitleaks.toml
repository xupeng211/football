# 🔒 Gitleaks配置文件 - 防止敏感信息泄漏

# 全局设置
title = "Gitleaks 安全扫描配置"

[extend]
# 扩展基础规则
useDefault = true

# 白名单配置
[allowlist]
description = "项目白名单配置"

# 忽略的文件路径
paths = [
  '''src/aiculture-kit/.*''',
  '''external/.*''',
  '''vendor/.*''',
  '''tests/.*''',
  '''test_.*\.py''',
  '''.*_test\.py''',
  '''conftest\.py''',
  '''.*\.md''',
  '''.*\.txt''',
  '''.*\.json''',
  '''.*\.yml''',
  '''.*\.yaml''',
  '''requirements.*''',
  '''pyproject\.toml''',
  '''setup\.py''',
  '''coverage\.xml''',
  '''\.pytest_cache/.*''',
  '''\.venv/.*''',
  '''\.git/.*''',
  '''node_modules/.*''',
  '''__pycache__/.*''',
  '''\.mypy_cache/.*''',
  '''\.ruff_cache/.*''',
  '''htmlcov/.*''',
]

# 忽略的正则表达式
regexes = [
  # 测试和示例密钥
  '''(password|secret|key|token)\s*[:=]\s*["\']?(test|example|demo|placeholder|dummy|fake|sample)["\']?''',
  '''your-secret-key-here''',
  '''replace-with-actual-key''',
  '''development-only''',
  '''test-api-key''',
  '''dummy-password''',
  '''placeholder-secret''',
  
  # 文档和注释
  '''#\s*(password|secret|key|token)''',
  '''/\*.*?(password|secret|key|token).*?\*/''',
  '''""".*?(password|secret|key|token).*?"""''',
  '''".*?示例.*?"''',
  '''".*?example.*?"''',
  
  # CI/CD环境变量模板
  '''GITHUB_TOKEN\s*[:=]\s*\$\{\{\s*secrets\.''',
  '''API_KEY\s*[:=]\s*\$\{\{\s*vars\.''',
  '''\$\{\{\s*env\.''',
  
  # 开发工具配置
  '''pre-commit''',
  '''pytest''',
  '''coverage''',
  '''mypy''',
  '''ruff''',
  '''black''',
  '''flake8''',
  
  # 常见的非敏感字符串
  '''localhost''',
  '''127\.0\.0\.1''',
  '''0\.0\.0\.0''',
  '''debug''',
  '''trace''',
  '''info''',
  '''warning''',
  '''error''',
]

# 忽略的提交SHA（如果需要）
commits = []

# 停用词列表
stopwords = [
  "password",
  "secret", 
  "key",
  "token",
  "api",
  "credential",
  "auth",
]
