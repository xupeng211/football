# ğŸ¤– AI å¼€å‘å·¥å…·ä½¿ç”¨è§„åˆ™

> **ğŸš€ AIå·¥å…·è¿›å…¥æç¤º**: è¯·ç«‹å³æ‰§è¡Œ `make ai-start` è·å–å®Œæ•´é¡¹ç›®ä¸Šä¸‹æ–‡å’Œç¯å¢ƒè¯Šæ–­ï¼
>
> è¿™å°†è‡ªåŠ¨ä¸ºæ‚¨å‡†å¤‡æœ€ä½³å·¥ä½œç¯å¢ƒï¼ŒåŒ…æ‹¬é¡¹ç›®æ¶æ„ã€CIçŠ¶æ€ã€ä¾èµ–æ£€æŸ¥ç­‰å…³é”®ä¿¡æ¯ã€‚

[![CI](https://github.com/your-org/football-predict-system/workflows/CI/badge.svg)](https://github.com/your-org/football-predict-system/actions/workflows/ci.yml)
[![Tests](https://img.shields.io/badge/tests-passing-green.svg)](https://github.com/your-org/football-predict-system/actions/workflows/ci.yml)
[![Coverage](https://img.shields.io/badge/coverage-80%25+-brightgreen.svg)](https://github.com/your-org/football-predict-system/actions/workflows/coverage.yml)
[![Version](https://img.shields.io/badge/version-v2.0.0--testing--optimized-blue.svg)](https://github.com/xupeng211/football/releases/tag/v2.0.0-testing-optimized)
[![Quality](https://img.shields.io/badge/quality-enterprise--grade-gold.svg)](#quality-assurance)

**âš ï¸ é‡è¦ï¼šæ‰€æœ‰ AI ç¼–ç¨‹å·¥å…·å¿…é¡»åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å¼€å‘ï¼**

## ğŸš€ Quality Assurance

This project uses a comprehensive set of automated tools to ensure high code quality and a stable CI pipeline. Key features include:

- **Pre-commit Hooks**: Automated checks for formatting, linting, and security before every commit.
- **Pre-push Quality Gate**: A full suite of tests and validation runs before pushing to the remote repository.
- **Smart CI/CD**: The GitHub Actions pipeline is optimized to run static checks in parallel and intelligently select tests based on changed files for faster feedback.

See the `DEVELOPER_GUIDE.md` for full details on the development workflow.

```bash
# ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆAIå·¥å…·å¿…è¯»ï¼‰
scripts/env-manager.sh --activate  # è‡ªåŠ¨æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
make ci                          # éªŒè¯ç¯å¢ƒå¹¶è¿è¡Œå®Œæ•´æ£€æŸ¥
```

**è¯¦ç»†è§„åˆ™**: ğŸ“‹ [AI_DEVELOPMENT_RULES.md](docs/AI_DEVELOPMENT_RULES.md)

---

## ğŸ¯ ğŸ†• v2.0.0 é‡å¤§æ›´æ–°ï¼šä¼ä¸šçº§æµ‹è¯•åŸºç¡€è®¾æ–½

> **ğŸš€ Latest Release v2.0.0-testing-optimized** - å»ºç«‹äº†å®Œæ•´çš„ä¼ä¸šçº§æµ‹è¯•å’Œè´¨é‡ä¿éšœä½“ç³»ï¼

### âœ¨ æ–°å¢æ ¸å¿ƒç‰¹æ€§

- **ğŸ§ª ä¼ä¸šçº§æµ‹è¯•å¥—ä»¶**: 8ä¸ªå…¨æ–°çš„ç»¼åˆæµ‹è¯•æ¨¡å—ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒç»„ä»¶
- **ğŸ“Š è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š**: å®Œæ•´çš„æµ‹è¯•åˆ†æå’Œå¯è§†åŒ–æŠ¥å‘Šç³»ç»Ÿ
- **âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•**: å›å½’æ£€æµ‹å’Œæ€§èƒ½ç›‘æ§æ¡†æ¶
- **ğŸ”„ CI/CDé›†æˆ**: è‡ªåŠ¨åŒ–è¦†ç›–ç‡ç›‘æ§å’Œè´¨é‡é—¨ç¦
- **ğŸ“ˆ æµ‹è¯•è¦†ç›–ç‡é£è·ƒ**: ä»~20%æå‡åˆ°80%+çš„æ ¸å¿ƒæ¨¡å—è¦†ç›–ç‡

### ğŸ“Š è´¨é‡æˆæœå±•ç¤º

| æ¨¡å— | ä¼˜åŒ–å‰è¦†ç›–ç‡ | ä¼˜åŒ–åè¦†ç›–ç‡ | æå‡å¹…åº¦ |
|------|-------------|-------------|----------|
| **æ¨¡å‹é¢„æµ‹å™¨** | 20% | **81%** | **+61%** ğŸ”¥ |
| **è®­ç»ƒå™¨** | 0% | **51%** | **+51%** ğŸš€ |
| **æ•°æ®ç®¡é“** | 0% | **54%** | **+54%** â­ |
| **APIæœåŠ¡** | 0% | **80%+** | **+80%** ğŸ’ |

### ğŸ› ï¸ æ–°å¢å·¥å…·å’Œè„šæœ¬

```bash
# ğŸ“‹ è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š
python scripts/automated_test_report.py

# ğŸ“Š æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
make test-coverage

# âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•
pytest tests/performance/ -v

# ğŸ” å®Œæ•´è´¨é‡æ£€æŸ¥
make ci-full
```

---

## ğŸš€ æœ¬åœ°å¼€å‘å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.11.9
- uv (è‡ªåŠ¨å®‰è£…)

### æœ¬åœ° = CI ä¸€è‡´æ€§å‘½ä»¤

```bash
# 1. å®‰è£…ä¾èµ–ï¼ˆä¸CIå®Œå…¨ä¸€è‡´ï¼Œå¼ºåˆ¶ä½¿ç”¨uv.lockï¼‰
make install  # ğŸš€ uv.lockä¼˜å…ˆï¼Œrequirements.txtå¤‡é€‰

# ç­‰ä»·æ‰‹åŠ¨æ–¹å¼ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰ï¼š
# uv pip sync --frozen uv.lock      # ç²¾ç¡®ä¾èµ–å¤ç° (é¦–é€‰)
# pip install -r requirements.txt # å¤‡é€‰æ–¹æ¡ˆ

# 2. è¿è¡Œå®Œæ•´CIæ£€æŸ¥
make ci

# 3. å•ç‹¬è¿è¡Œå„é¡¹æ£€æŸ¥
make format   # ä»£ç æ ¼å¼åŒ–
make lint     # ä»£ç é£æ ¼æ£€æŸ¥
make type     # ç±»å‹æ£€æŸ¥
make security # å®‰å…¨æ‰«æ
make test     # æµ‹è¯•
```

**ğŸ’¡ ä¾èµ–å®‰è£…ç­–ç•¥è¯´æ˜ï¼š**

- CIä½¿ç”¨ `uv.lock` ä¼˜å…ˆï¼Œ`requirements.txt` å›é€€
- `make install` ä¸CIä¿æŒå®Œå…¨ä¸€è‡´çš„å®‰è£…é€»è¾‘
- è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### Pre-commit é’©å­

```bash
# å®‰è£…pre-commité’©å­ï¼ˆä¸€æ¬¡æ€§ï¼‰
pip install pre-commit
pre-commit install

# æ‰‹åŠ¨è¿è¡Œæ‰€æœ‰æ£€æŸ¥
pre-commit run --all-files
```

---

# âš½ è¶³çƒèµ›æœé¢„æµ‹ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºæœºå™¨å­¦ä¹ çš„è¶³çƒæ¯”èµ›ç»“æœé¢„æµ‹ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„PythonæŠ€æœ¯æ ˆï¼Œæ”¯æŒæ•°æ®é‡‡é›†ã€ç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹è®­ç»ƒã€å®æ—¶é¢„æµ‹å’Œå›æµ‹åˆ†æã€‚

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![XGBoost](https://img.shields.io/badge/XGBoost-2.0+-orange.svg)](https://xgboost.readthedocs.io/)
[![Docker](https://img.shields.io/badge/Docker-ready-blue.svg)](https://www.docker.com/)

## ğŸš€ æ–°äººå¿«é€Ÿä¸Šæ‰‹ï¼ˆâš¡ 5åˆ†é’Ÿäº†è§£æ•´ä¸ªé¡¹ç›®ï¼‰

> **ğŸ‘‹ ç¬¬ä¸€æ¬¡æ¥è§¦æœ¬é¡¹ç›®ï¼Ÿ** æ— è®ºä½ æ˜¯å¼€å‘è€…ã€AIåŠ©æ‰‹è¿˜æ˜¯é¡¹ç›®ç»´æŠ¤è€…ï¼Œè¿™ä¸ªæŒ‡å—å°†å¸®ä½ æœ€å¿«é€Ÿåº¦äº†è§£é¡¹ç›®å…¨è²Œï¼

### âš¡ ä¸€é”®è·å–é¡¹ç›®å®Œæ•´æƒ…å†µï¼ˆæœ€é‡è¦ï¼ï¼‰

```bash
make show.context  # ğŸ”¥ è¿™ä¸ªå‘½ä»¤ä¼šç»™ä½ é¡¹ç›®çš„"è¯´æ˜ä¹¦"ï¼šæ¶æ„å›¾ã€æŠ€æœ¯æ ˆã€å¼€å‘æµç¨‹ã€å·²çŸ¥é—®é¢˜ç­‰
```

### âœ… éªŒè¯å¼€å‘ç¯å¢ƒæ˜¯å¦å°±ç»ª

```bash
make ci            # è¿è¡Œå®Œæ•´æ£€æŸ¥ï¼šä»£ç æ ¼å¼ã€ç±»å‹æ£€æŸ¥ã€å®‰å…¨æ‰«æã€æµ‹è¯•æ‰§è¡Œ
```

**å¦‚æœè¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æˆåŠŸï¼Œæ­å–œï¼ä½ å·²ç»æŒæ¡äº†80%çš„é¡¹ç›®ä¿¡æ¯ï¼Œå¯ä»¥å¼€å§‹å¼€å‘äº†ã€‚**

> ğŸ“– **éœ€è¦æ›´è¯¦ç»†çš„æŒ‡å—ï¼Ÿ** æŸ¥çœ‹ [QUICKSTART.md](./QUICKSTART.md) è·å–å®Œæ•´çš„ä¸Šæ‰‹æŒ‡å—ï¼ŒåŒ…æ‹¬å¸¸è§é—®é¢˜è§£ç­”å’Œå¼€å‘å·¥ä½œæµã€‚

### ğŸ“š æ·±å…¥äº†è§£ï¼ˆå¯é€‰ï¼‰

```bash
# é¡¹ç›®æ¼”è¿›å†ç¨‹
head -50 docs/dev_log.md

# æœ€è¿‘ä»£ç å˜æ›´
git log --oneline -10

# å½“å‰å·¥ä½œçŠ¶æ€
git status
```

### ğŸ“ é‡è¦æ–‡ä»¶å¯¼èˆª

```
ğŸ“‚ å¿…è¯»æ–‡æ¡£ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
â”œâ”€â”€ ğŸ“‹ context/_pack.md           # ğŸ”¥ é¡¹ç›®å®Œæ•´ä¸Šä¸‹æ–‡ï¼ˆæœ€é‡è¦ï¼ï¼‰
â”œâ”€â”€ ğŸ“– docs/ARCHITECTURE.md       # æ¶æ„è®¾è®¡è¯¦è§£
â”œâ”€â”€ ğŸ“ docs/TASKS.md              # å¼€å‘ä»»åŠ¡æ¸…å•
â”œâ”€â”€ ğŸ“Š docs/dev_log.md            # å¼€å‘å†ç¨‹è®°å½•
â”œâ”€â”€ âš™ï¸  pyproject.toml             # é¡¹ç›®é…ç½®ï¼ˆä¾èµ–ã€å·¥å…·é…ç½®ï¼‰
â””â”€â”€ ğŸ› ï¸  Makefile                   # å¸¸ç”¨å¼€å‘å‘½ä»¤

ğŸ”§ å¸¸ç”¨å¼€å‘å‘½ä»¤
â”œâ”€â”€ make fmt      # ä»£ç æ ¼å¼åŒ–
â”œâ”€â”€ make ci       # å®Œæ•´æ£€æŸ¥
â”œâ”€â”€ make test     # è¿è¡Œæµ‹è¯•
â””â”€â”€ make lint     # ä»£ç æ£€æŸ¥
```

### ğŸ’¡ å…³é”®ä¼˜åŠ¿

- âš¡ **é›¶ä¾èµ–å¯åŠ¨**ï¼šæ— éœ€é…ç½®æ•°æ®åº“ï¼Œé›†æˆæµ‹è¯•è‡ªåŠ¨è·³è¿‡
- ğŸ“– **SSOTæ–‡æ¡£**ï¼šå•ä¸€æ•°æ®æºï¼Œä¿¡æ¯æ°¸è¿œæœ€æ–°
- ğŸ¤– **AIå‹å¥½**ï¼šå®Œå–„çš„ä¸Šä¸‹æ–‡æ‰“åŒ…å’Œè‡ªåŠ¨åŒ–éªŒè¯
- ğŸ”„ **ç°ä»£åŒ–CI/CD**ï¼šä»£ç è´¨é‡å’Œå®‰å…¨æœ‰ä¿éšœ

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### ğŸ”® **æœºå™¨å­¦ä¹ æ ¸å¿ƒ**

- **æ™ºèƒ½é¢„æµ‹**: åŸºäºXGBoostçš„ä¸‰åˆ†ç±»é¢„æµ‹ï¼ˆä¸»èƒœ/å¹³å±€/å®¢èƒœï¼‰
- **ç‰¹å¾å·¥ç¨‹**: 30+ä¸ªè¶³çƒä¸“ä¸šç‰¹å¾ï¼ŒåŒ…æ‹¬æ”»é˜²æ•°æ®ã€çŠ¶æ€æŒ‡æ ‡ã€ä¸»å®¢åœºä¼˜åŠ¿ç­‰
- **å›æµ‹åˆ†æ**: å®Œæ•´çš„å†å²æ•°æ®å›æµ‹æ¡†æ¶ï¼Œæ”¯æŒå¤šç­–ç•¥å¯¹æ¯”

### âš¡ **é«˜æ€§èƒ½æ¶æ„**

- **å®æ—¶API**: FastAPIæ„å»ºçš„é«˜æ€§èƒ½é¢„æµ‹APIï¼Œæ”¯æŒå•åœºå’Œæ‰¹é‡é¢„æµ‹
- **è‡ªåŠ¨åŒ–æµæ°´çº¿**: Prefectç¼–æ’çš„æ•°æ®é‡‡é›†ã€è®­ç»ƒã€æ¨ç†å·¥ä½œæµ
- **å®¹å™¨åŒ–éƒ¨ç½²**: Docker Composeä¸€é”®éƒ¨ç½²ï¼Œæ”¯æŒå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ

### ğŸ§ª **ä¼ä¸šçº§è´¨é‡ä¿éšœ** â­ **NEW**

- **ğŸ“Š ç»¼åˆæµ‹è¯•å¥—ä»¶**: 8ä¸ªä¸“ä¸šæµ‹è¯•æ¨¡å—ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒç»„ä»¶
- **ğŸ”¬ è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š**: æ™ºèƒ½è´¨é‡åˆ†æå’Œå¯è§†åŒ–æŠ¥å‘Šç³»ç»Ÿ
- **âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•**: è‡ªåŠ¨åŒ–æ€§èƒ½å›å½’æ£€æµ‹å’Œç›‘æ§
- **ğŸ“ˆ é«˜è¦†ç›–ç‡ä¿éšœ**: æ ¸å¿ƒæ¨¡å—æµ‹è¯•è¦†ç›–ç‡è¾¾80%+
- **ğŸ”„ CI/CDè´¨é‡é—¨ç¦**: è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œè¦†ç›–ç‡ç›‘æ§

### ğŸ” **å¯è§‚æµ‹æ€§å’Œç›‘æ§**

- **ç»“æ„åŒ–æ—¥å¿—**: å…¨é“¾è·¯å¯è§‚æµ‹ï¼Œä¾¿äºé—®é¢˜è¯Šæ–­å’Œæ€§èƒ½ä¼˜åŒ–
- **å®æ—¶æŒ‡æ ‡**: Prometheusæ ¼å¼çš„ç³»ç»Ÿå’Œä¸šåŠ¡æŒ‡æ ‡
- **å¥åº·æ£€æŸ¥**: å¤šå±‚æ¬¡çš„æœåŠ¡å¥åº·çŠ¶æ€ç›‘æ§

## ğŸ“‹ é¡¹ç›®æ¶æ„

```
football-predict-system/
â”œâ”€â”€ ğŸš€ apps/                   # åº”ç”¨æœåŠ¡å±‚
â”‚   â”œâ”€â”€ api/                 # FastAPI WebæœåŠ¡
â”‚   â”œâ”€â”€ trainer/             # æ¨¡å‹è®­ç»ƒåº”ç”¨
â”‚   â”œâ”€â”€ backtest/            # å›æµ‹åˆ†æåº”ç”¨
â”‚   â””â”€â”€ workers/             # å·¥ä½œæµä»»åŠ¡
â”œâ”€â”€ ğŸ“Š data_pipeline/          # æ•°æ®ç®¡é“
â”‚   â”œâ”€â”€ sources/             # æ•°æ®æºé‡‡é›†å™¨
â”‚   â”œâ”€â”€ transforms/          # æ•°æ®è½¬æ¢å™¨
â”‚   â””â”€â”€ loaders/             # æ•°æ®åŠ è½½å™¨
â”œâ”€â”€ ğŸ¯ models/                 # æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ predictor.py         # é¢„æµ‹å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ registry.py          # æ¨¡å‹æ³¨å†Œè¡¨
â”‚   â””â”€â”€ artifacts/           # æ¨¡å‹æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ ğŸ“Š evaluation/            # æ¨¡å‹è¯„ä¼°
â”‚   â”œâ”€â”€ metrics/             # è¯„ä¼°æŒ‡æ ‡
â”‚   â””â”€â”€ reports/             # è¯„ä¼°æŠ¥å‘Š
â”œâ”€â”€ ğŸ§ª tests/                 # ğŸ†• ä¼ä¸šçº§æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ unit/                # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ models/          # æ¨¡å‹æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ data_pipeline/   # æ•°æ®ç®¡é“æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ apps/            # åº”ç”¨æœåŠ¡æµ‹è¯•
â”‚   â”‚   â””â”€â”€ trainer/         # è®­ç»ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ integration/         # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ performance/         # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚   â””â”€â”€ e2e/                 # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ ğŸ“Š scripts/               # ğŸ†• è‡ªåŠ¨åŒ–å·¥å…·
â”‚   â”œâ”€â”€ automated_test_report.py  # æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ coverage-monitor.py       # è¦†ç›–ç‡ç›‘æ§
â”‚   â””â”€â”€ env-manager.sh            # ç»Ÿä¸€ç¯å¢ƒç®¡ç†è„šæœ¬
â”œâ”€â”€ ğŸ“‹ reports/               # ğŸ†• æµ‹è¯•å’Œè´¨é‡æŠ¥å‘Š
â”‚   â”œâ”€â”€ test_report_*.html   # HTMLæµ‹è¯•æŠ¥å‘Š
â”‚   â”œâ”€â”€ test_summary_*.md    # Markdownæµ‹è¯•æ‘˜è¦
â”‚   â””â”€â”€ coverage/            # è¦†ç›–ç‡æŠ¥å‘Š
â””â”€â”€ ğŸ—ï¸ infra/                  # åŸºç¡€è®¾æ–½
    â”œâ”€â”€ docker/              # Dockeré…ç½®
    â””â”€â”€ config/              # ç¯å¢ƒé…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Docker & Docker Compose
- PostgreSQL 15+
- Redis 7+

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd football-predict-system
```

### 2. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆå¡«å…¥APIå¯†é’¥ç­‰ï¼‰
vim .env
```

### 3. å®‰è£…ä¾èµ–

```bash
# å®‰è£…Pythonä¾èµ–
make install

# æˆ–ä½¿ç”¨pip
pip install -r requirements.txt
pip install -e .
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰åŸºç¡€æœåŠ¡ï¼ˆPostgreSQL, Redis, Prefectï¼‰
make docker-up

# å¯åŠ¨APIæœåŠ¡
make dev
```

### 5. éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
curl http://localhost:8000/api/v1/health

# æŸ¥çœ‹APIæ–‡æ¡£
open http://localhost:8000/docs

# ğŸ†• è¿è¡Œå®Œæ•´è´¨é‡éªŒè¯
make ci                                 # ä»£ç è´¨é‡æ£€æŸ¥
python scripts/automated_test_report.py # ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ•°æ®é‡‡é›†

```python
from data_pipeline.collectors.football_api import FootballAPICollector
from datetime import date

# é‡‡é›†æœ€è¿‘ä¸€å‘¨çš„æ¯”èµ›æ•°æ®
async with FootballAPICollector() as collector:
    matches = await collector.collect_matches_by_date(
        start_date=date(2024, 1, 1),
        end_date=date(2024, 1, 7),
        leagues=["PL", "BL1", "SA"]  # è‹±è¶…ã€å¾·ç”²ã€æ„ç”²
    )
```

### ç‰¹å¾å·¥ç¨‹

```python
from data_pipeline.processors.feature_engineer import FeatureEngineer
import pandas as pd

# åˆå§‹åŒ–ç‰¹å¾å·¥ç¨‹å™¨
engineer = FeatureEngineer(window_days=30, min_games=5)

# ä¸ºå•åœºæ¯”èµ›ç”Ÿæˆç‰¹å¾
features = engineer.create_match_features(
    match_id="PL_2024_001",
    home_team="Manchester United",
    away_team="Arsenal",
    match_date=datetime(2024, 1, 15),
    historical_data=historical_matches_df
)
```

### æ¨¡å‹è®­ç»ƒ

```python
from trainer.xgboost_trainer import XGBoostTrainer, TrainingConfig

# é…ç½®è®­ç»ƒå‚æ•°
config = TrainingConfig(
    n_estimators=200,
    max_depth=8,
    learning_rate=0.05
)

# è®­ç»ƒæ¨¡å‹
trainer = XGBoostTrainer(config)
X_train, X_test, y_train, y_test = trainer.prepare_data(features_df, targets_df)
result = trainer.train(X_train, X_test, y_train, y_test)

print(f"æ¨¡å‹å‡†ç¡®ç‡: {result.test_score:.3f}")
```

### é¢„æµ‹API

```bash
# å•åœºæ¯”èµ›é¢„æµ‹
curl -X POST "http://localhost:8000/api/v1/predictions/single" \
     -H "Content-Type: application/json" \
     -d '{
       "home_team": "Manchester United",
       "away_team": "Arsenal",
       "match_date": "2024-01-15",
       "league": "PL"
     }'

# æ‰¹é‡é¢„æµ‹
curl -X POST "http://localhost:8000/api/v1/predictions/batch" \
     -H "Content-Type: application/json" \
     -d '{
       "matches": [
         {"home_team": "Chelsea", "away_team": "Liverpool", "match_date": "2024-01-16", "league": "PL"},
         {"home_team": "Bayern Munich", "away_team": "Dortmund", "match_date": "2024-01-16", "league": "BL1"}
       ]
     }'
```

### å›æµ‹åˆ†æ

```python
from backtest.engine import BacktestEngine

# è¿è¡Œå›æµ‹
engine = BacktestEngine()
result = engine.run_backtest(
    model=trained_model,
    historical_data=historical_df,
    odds_data=odds_df,
    start_date=date(2024, 1, 1),
    end_date=date(2024, 3, 31),
    min_confidence=0.65,
    stake_per_bet=10.0
)

print(f"å›æµ‹æ”¶ç›Šç‡: {result.roi:.3f}")
print(f"é¢„æµ‹å‡†ç¡®ç‡: {result.accuracy:.3f}")
```

## ğŸ”§ å¼€å‘å‘½ä»¤

### åŸºç¡€å¼€å‘å‘½ä»¤

```bash
# ç¯å¢ƒç®¡ç†
make install        # å®‰è£…ä¾èµ–
scripts/env-manager.sh --activate  # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

# ä»£ç è´¨é‡
make format         # ä»£ç æ ¼å¼åŒ–
make lint          # ä»£ç æ£€æŸ¥
make type          # ç±»å‹æ£€æŸ¥
```

### ğŸ§ª æµ‹è¯•å’Œè´¨é‡ä¿éšœ

```bash
# æµ‹è¯•æ‰§è¡Œ
make test          # è¿è¡Œæµ‹è¯•å¥—ä»¶
make ci            # å®Œæ•´CIæ£€æŸ¥

# ğŸ†• ä¼ä¸šçº§æµ‹è¯•å·¥å…·
python scripts/automated_test_report.py  # è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š
pytest tests/unit/ -v                    # å•å…ƒæµ‹è¯•
pytest tests/integration/ -v             # é›†æˆæµ‹è¯•
pytest tests/performance/ -v             # æ€§èƒ½æµ‹è¯•

# è¦†ç›–ç‡åˆ†æ
pytest --cov=. --cov-report=html        # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
python scripts/coverage-monitor.py      # è¦†ç›–ç‡ç›‘æ§
```

### æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡
make dev

# Dockerç¯å¢ƒç®¡ç†
make docker-up      # å¯åŠ¨æœåŠ¡
make docker-down    # åœæ­¢æœåŠ¡

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
make clean
```

## ğŸ“Š ç³»ç»Ÿç›‘æ§

### å¥åº·æ£€æŸ¥

- APIå¥åº·çŠ¶æ€: `GET /api/v1/health`
- ç³»ç»ŸæŒ‡æ ‡: `GET /api/v1/metrics`
- Prefectç›‘æ§é¢æ¿: <http://localhost:4200>

### æŒ‡æ ‡è¯´æ˜

é€šè¿‡è®¿é—® `GET /api/v1/metrics` ç«¯ç‚¹ï¼Œå¯ä»¥è·å–Prometheusæ ¼å¼çš„ç›‘æ§æŒ‡æ ‡ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- `api_requests_total`: å„APIç«¯ç‚¹çš„è¯·æ±‚æ€»æ•°
- `api_request_duration_seconds`: å„APIç«¯ç‚¹çš„è¯·æ±‚è€—æ—¶åˆ†å¸ƒ
- `model_version`: å½“å‰åŠ è½½çš„é¢„æµ‹æ¨¡å‹ç‰ˆæœ¬
- `system_uptime_seconds`: APIæœåŠ¡çš„æ­£å¸¸è¿è¡Œæ—¶é—´

è¿™äº›æŒ‡æ ‡å¯ä»¥æ¥å…¥Prometheuså’ŒGrafanaç­‰ç›‘æ§ç³»ç»Ÿï¼Œå®ç°å¯¹æœåŠ¡çŠ¶æ€çš„å®æ—¶å¯è§†åŒ–ç›‘æ§ã€‚

### æ—¥å¿—æŸ¥çœ‹

```bash
# APIæœåŠ¡æ—¥å¿—
docker-compose logs -f api

# å·¥ä½œæµæ—¥å¿—
docker-compose logs -f data-worker

# æ•°æ®åº“æ—¥å¿—
docker-compose logs -f postgres
```

## ğŸ§ª æµ‹è¯• {#quality-assurance}

### ğŸš€ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
make test                              # æ ‡å‡†æµ‹è¯•æ‰§è¡Œ
make ci                               # åŒ…å«lintingã€ç±»å‹æ£€æŸ¥çš„å®Œæ•´CI

# ğŸ†• ä¼ä¸šçº§æµ‹è¯•å¥—ä»¶
pytest tests/unit/ -v                 # å•å…ƒæµ‹è¯•
pytest tests/integration/ -v          # é›†æˆæµ‹è¯•
pytest tests/performance/ -v          # æ€§èƒ½åŸºå‡†æµ‹è¯•
```

### ğŸ“Š æµ‹è¯•è¦†ç›–ç‡å’ŒæŠ¥å‘Š

```bash
# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest tests/ --cov=. --cov-report=html --cov-report=xml

# ğŸ†• è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
python scripts/automated_test_report.py   # ç”Ÿæˆå®Œæ•´æµ‹è¯•åˆ†æ

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
open htmlcov/index.html               # è¦†ç›–ç‡æŠ¥å‘Š
open reports/test_report_*.html       # è´¨é‡åˆ†ææŠ¥å‘Š
```

### ğŸ¯ æµ‹è¯•æ¨¡å—è¯´æ˜

| æµ‹è¯•ç±»å‹ | è·¯å¾„ | è¯´æ˜ | è¦†ç›–èŒƒå›´ |
|---------|------|------|----------|
| **å•å…ƒæµ‹è¯•** | `tests/unit/` | æ ¸å¿ƒç»„ä»¶åŠŸèƒ½æµ‹è¯• | 80%+ è¦†ç›–ç‡ |
| **é›†æˆæµ‹è¯•** | `tests/integration/` | APIå’ŒæœåŠ¡é›†æˆ | ç«¯åˆ°ç«¯æµç¨‹ |
| **æ€§èƒ½æµ‹è¯•** | `tests/performance/` | æ€§èƒ½åŸºå‡†å’Œå›å½’ | å“åº”æ—¶é—´ã€ååé‡ |
| **ç«¯åˆ°ç«¯æµ‹è¯•** | `tests/e2e/` | å®Œæ•´ä¸šåŠ¡æµç¨‹ | ç”¨æˆ·åœºæ™¯ |

### ğŸ”¬ è´¨é‡æŒ‡æ ‡

- **æµ‹è¯•è¦†ç›–ç‡**: 80%+ (æ ¸å¿ƒæ¨¡å—)
- **ä»£ç è´¨é‡**: Ruff + MyPy æ£€æŸ¥é€šè¿‡
- **å®‰å…¨æ‰«æ**: Bandit å®‰å…¨æ£€æŸ¥é€šè¿‡
- **æ€§èƒ½åŸºå‡†**: è‡ªåŠ¨åŒ–æ€§èƒ½å›å½’æ£€æµ‹

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### æ¨¡å‹æ€§èƒ½ç›®æ ‡

- **é¢„æµ‹å‡†ç¡®ç‡**: â‰¥ 55% (è¶…è¿‡éšæœºé¢„æµ‹çš„33%)
- **æŠ•æ³¨æ”¶ç›Šç‡**: â‰¥ 5% (åŸºäºèµ”ç‡çš„é•¿æœŸæ”¶ç›Š)
- **é¢„æµ‹ç½®ä¿¡åº¦**: å¹³å‡ â‰¥ 0.65

### ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

- **APIå“åº”æ—¶é—´**: < 500ms (å•æ¬¡é¢„æµ‹)
- **å¹¶å‘å¤„ç†èƒ½åŠ›**: 1000+ è¯·æ±‚/ç§’
- **æ•°æ®é‡‡é›†æ•ˆç‡**: 10000+ æ¯”èµ›/å°æ—¶
- **ç‰¹å¾è®¡ç®—æ€§èƒ½**: < 2ç§’/åœºæ¯”èµ›

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: Development Team
- é‚®ç®±: <dev@example.com>
- é¡¹ç›®åœ°å€: <https://github.com/your-org/football-predict-system>

## ğŸ™ è‡´è°¢

- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„Python Webæ¡†æ¶
- [XGBoost](https://xgboost.readthedocs.io/) - é«˜æ€§èƒ½æ¢¯åº¦æå‡æ¡†æ¶
- [Prefect](https://www.prefect.io/) - ç°ä»£åŒ–çš„å·¥ä½œæµç¼–æ’å¹³å°
- [Football-Data.org](https://www.football-data.org/) - è¶³çƒæ•°æ®APIæœåŠ¡

---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼**

# CI Fix Applied Tue Aug 26 08:11:25 CST 2025

## ğŸš€ å·¥ä½œæµçŠ¶æ€

æœ€åæ›´æ–°: 2025å¹´8æœˆ31æ—¥ - é›†æˆAIæ™ºèƒ½ç»´æŠ¤å·¥ä½œæµï¼Œä¼˜åŒ–GitHub Actionsé…ç½®
