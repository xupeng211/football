# contracts/feature_specs.yaml
#
# This file defines the data contract for features used in both training and inference.
# It ensures that the feature set remains consistent across the ML lifecycle.
#
# Data Types:
# - numeric: int64, float64
# - categorical: object, category
# - boolean: bool
# - datetime: datetime64[ns]

features:
  - name: h
    dtype: float64
    description: "Bookmaker odds for a home team win."
  - name: d
    dtype: float64
    description: "Bookmaker odds for a draw."
  - name: a
    dtype: float64
    description: "Bookmaker odds for an away team win."
  - name: home_goals
    dtype: int64
    description: "Goals scored by the home team."
  - name: away_goals
    dtype: int64
    description: "Goals scored by the away team."
  - name: total_goals
    dtype: int64
    description: "Total goals in the match."
  - name: goal_difference
    dtype: int64
    description: "Goal difference (home - away)."
  - name: both_teams_scored
    dtype: int64
    description: "1 if both teams scored, 0 otherwise."
  - name: high_scoring
    dtype: int64
    description: "1 if total goals > 2.5, 0 otherwise."
  - name: low_scoring
    dtype: int64
    description: "1 if total goals < 2.5, 0 otherwise."
  - name: prob_h
    dtype: float64
    description: "Implied probability of home win."
  - name: prob_d
    dtype: float64
    description: "Implied probability of a draw."
  - name: prob_a
    dtype: float64
    description: "Implied probability of away win."
  - name: prob_h_norm
    dtype: float64
    description: "Normalized implied probability of home win."
  - name: prob_d_norm
    dtype: float64
    description: "Normalized implied probability of a draw."
  - name: prob_a_norm
    dtype: float64
    description: "Normalized implied probability of away win."
  - name: market_confidence
    dtype: float64
    description: "Confidence of the market in the favorite."
  - name: odds_spread
    dtype: float64
    description: "Difference between underdog and favorite odds."
  - name: favorite
    dtype: object
    description: "Favorite team (H, D, A)."
  - name: favorite_odds
    dtype: float64
    description: "Odds for the favorite outcome."
  - name: underdog_odds
    dtype: float64
    description: "Odds for the underdog outcome."
  - name: is_home
    dtype: int64
    description: "Flag indicating if the team is playing at home."
  - name: is_away
    dtype: int64
    description: "Flag indicating if the team is playing away."
  - name: home_form
    dtype: float64
    description: "Home team's recent form score."
  - name: away_form
    dtype: float64
    description: "Away team's recent form score."
  - name: home_avg_goals_for
    dtype: float64
    description: "Home team's average goals scored."
  - name: away_avg_goals_for
    dtype: float64
    description: "Away team's average goals scored."
  - name: home_avg_goals_against
    dtype: float64
    description: "Home team's average goals conceded."
  - name: away_avg_goals_against
    dtype: float64
    description: "Away team's average goals conceded."
  - name: h2h_home_wins
    dtype: int64
    description: "Head-to-head home wins."
  - name: h2h_away_wins
    dtype: int64
    description: "Head-to-head away wins."
  - name: h2h_draws
    dtype: int64
    description: "Head-to-head draws."
  - name: h2h_total_matches
    dtype: int64
    description: "Total head-to-head matches."

metadata:
  version: "1.0.0"
  owner: "ml-platform-team"
  updated_at: "2025-08-28T15:00:00Z"
