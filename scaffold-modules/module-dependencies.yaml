# ğŸ”— è„šæ‰‹æ¶æ¨¡å—ä¾èµ–å…³ç³»é…ç½®
# ç”¨äºç®¡ç†æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ã€å†²çªå’Œå…¼å®¹æ€§

version: "2.0.0"
last_updated: "2024-01-01"

# æ¨¡å—ä¾èµ–å…³ç³»å›¾
dependencies:
  core: [] # æ ¸å¿ƒæ¨¡å—ä¸ä¾èµ–ä»»ä½•å…¶ä»–æ¨¡å—
  cicd: ["core"] # CI/CDä¾èµ–æ ¸å¿ƒæ¨¡å—
  docker: ["core"] # Dockerä¾èµ–æ ¸å¿ƒæ¨¡å—
  env: ["core"] # ç¯å¢ƒç®¡ç†ä¾èµ–æ ¸å¿ƒæ¨¡å—
  ai: ["core", "cicd"] # AIå·¥å…·ä¾èµ–æ ¸å¿ƒå’ŒCI/CDæ¨¡å—
  testing: ["core"] # æµ‹è¯•æ¡†æ¶ä¾èµ–æ ¸å¿ƒæ¨¡å—
  monitoring: ["core", "testing"] # ç›‘æ§ä¾èµ–æ ¸å¿ƒå’Œæµ‹è¯•æ¨¡å—
  docs: ["core"] # æ–‡æ¡£ç³»ç»Ÿä¾èµ–æ ¸å¿ƒæ¨¡å—

# æ¨¡å—å†²çªå®šä¹‰
conflicts:
  # æš‚æ— å†²çªæ¨¡å—
  # ç¤ºä¾‹ï¼š["module_a", "module_b"]  # ä¸¤ä¸ªæ¨¡å—ä¸èƒ½åŒæ—¶å®‰è£…

# å¯é€‰ä¾èµ–å…³ç³»
optional_dependencies:
  cicd:
    # CI/CDæ¨¡å—å¯ä»¥é€‰æ‹©æ€§åœ°å¢å¼ºå…¶ä»–æ¨¡å—
    recommended_with: ["testing", "monitoring"]
    benefits:
      testing: "é›†æˆæµ‹è¯•åˆ°CIæµç¨‹"
      monitoring: "CIæ€§èƒ½ç›‘æ§å’Œå‘Šè­¦"

  ai:
    # AIå·¥å…·å¯ä»¥å¢å¼ºå…¶ä»–æ¨¡å—
    recommended_with: ["testing", "monitoring", "docs"]
    benefits:
      testing: "æ™ºèƒ½æµ‹è¯•åˆ†æå’Œä¼˜åŒ–"
      monitoring: "AIé©±åŠ¨çš„å¼‚å¸¸æ£€æµ‹"
      docs: "è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆ"

  monitoring:
    # ç›‘æ§æ¨¡å—ä¸å…¶ä»–æ¨¡å—çš„ååŒæ•ˆæœ
    recommended_with: ["docker", "cicd"]
    benefits:
      docker: "å®¹å™¨æ€§èƒ½ç›‘æ§"
      cicd: "æ„å»ºå’Œéƒ¨ç½²ç›‘æ§"

# æ¨¡å—å®‰è£…é¡ºåº
install_order:
  # å®‰è£…é¡ºåºç”±ä¾èµ–å…³ç³»å†³å®šï¼Œè¿™é‡Œå®šä¹‰æ¨èé¡ºåº
  recommended:
    - "core" # 1. é¦–å…ˆå®‰è£…æ ¸å¿ƒæ¨¡å—
    - "env" # 2. ç¯å¢ƒé…ç½®
    - "cicd" # 3. CI/CDæµç¨‹
    - "testing" # 4. æµ‹è¯•æ¡†æ¶
    - "docker" # 5. å®¹å™¨åŒ–
    - "monitoring" # 6. ç›‘æ§ç³»ç»Ÿ
    - "ai" # 7. AIå·¥å…·
    - "docs" # 8. æ–‡æ¡£ç³»ç»Ÿ

# æ¨¡å—ç‰ˆæœ¬å…¼å®¹æ€§
version_compatibility:
  # å®šä¹‰æ¨¡å—é—´çš„ç‰ˆæœ¬å…¼å®¹æ€§è¦æ±‚
  core:
    min_version: "2.0.0"
    compatible_with:
      cicd: ">=2.0.0"
      docker: ">=2.0.0"
      env: ">=2.0.0"
      ai: ">=2.0.0"
      testing: ">=2.0.0"
      monitoring: ">=2.0.0"
      docs: ">=2.0.0"

# ç³»ç»Ÿè¦æ±‚çŸ©é˜µ
system_requirements:
  global:
    python: ">=3.11"
    git: ">=2.30"

  module_specific:
    cicd:
      pre-commit: ">=2.15.0"
    docker:
      docker: ">=20.10"
      docker-compose: ">=1.29.0"
    ai:
      additional_packages: ["openai", "requests", "jinja2"]
    testing:
      additional_packages: ["pytest", "pytest-cov", "pytest-mock"]
    monitoring:
      additional_packages: ["prometheus-client", "grafana-api", "psutil"]
    docs:
      additional_packages: ["mkdocs", "mkdocs-material"]

# æ€§èƒ½å½±å“è¯„ä¼°
performance_impact:
  # å„æ¨¡å—å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“è¯„ä¼°
  core:
    cpu_impact: "minimal"
    memory_impact: "minimal"
    disk_space: "50MB"

  cicd:
    cpu_impact: "low"
    memory_impact: "low"
    disk_space: "100MB"

  docker:
    cpu_impact: "medium"
    memory_impact: "high"
    disk_space: "500MB"

  ai:
    cpu_impact: "medium"
    memory_impact: "medium"
    disk_space: "200MB"

  testing:
    cpu_impact: "low"
    memory_impact: "low"
    disk_space: "150MB"

  monitoring:
    cpu_impact: "low"
    memory_impact: "medium"
    disk_space: "300MB"

  docs:
    cpu_impact: "minimal"
    memory_impact: "minimal"
    disk_space: "100MB"

# å‡çº§è·¯å¾„
upgrade_paths:
  # å®šä¹‰ä»æ—§ç‰ˆæœ¬å‡çº§åˆ°æ–°ç‰ˆæœ¬çš„è·¯å¾„
  "1.0.0_to_2.0.0":
    description: "ä¸»è¦ç‰ˆæœ¬å‡çº§ï¼ŒåŒ…å«ç ´åæ€§å˜æ›´"
    steps:
      - "å¤‡ä»½ç°æœ‰é…ç½®"
      - "å¸è½½æ—§ç‰ˆæœ¬æ¨¡å—"
      - "å®‰è£…æ–°ç‰ˆæœ¬æ¨¡å—"
      - "è¿ç§»é…ç½®æ–‡ä»¶"
      - "éªŒè¯åŠŸèƒ½å®Œæ•´æ€§"
    breaking_changes:
      - "é…ç½®æ–‡ä»¶æ ¼å¼å˜æ›´"
      - "è„šæœ¬æ¥å£è°ƒæ•´"
      - "ä¾èµ–å…³ç³»æ›´æ–°"

# æ•…éšœæ’é™¤
troubleshooting:
  common_issues:
    dependency_conflict:
      description: "æ¨¡å—ä¾èµ–å†²çª"
      solutions:
        - "æ£€æŸ¥æ¨¡å—ç‰ˆæœ¬å…¼å®¹æ€§"
        - "ä½¿ç”¨å¼ºåˆ¶å®‰è£…é€‰é¡¹"
        - "æ‰‹åŠ¨è§£å†³ä¾èµ–å…³ç³»"

    installation_failure:
      description: "æ¨¡å—å®‰è£…å¤±è´¥"
      solutions:
        - "æ£€æŸ¥ç³»ç»Ÿè¦æ±‚"
        - "éªŒè¯ç½‘ç»œè¿æ¥"
        - "æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—"

    permission_denied:
      description: "æƒé™ä¸è¶³é”™è¯¯"
      solutions:
        - "ä½¿ç”¨sudoè¿è¡Œå®‰è£…å™¨"
        - "æ£€æŸ¥æ–‡ä»¶æƒé™"
        - "ç¡®ä¿ç›®å½•å¯å†™"
